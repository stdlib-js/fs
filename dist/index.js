"use strict";var a=function(e,r){return function(){return r||e((r={exports:{}}).exports,r),r.exports}};var X=a(function(On,U){"use strict";var ti=require("fs").close,ni=require("@stdlib/assert/is-nonnegative-integer").isPrimitive,ai=require("@stdlib/assert/is-function"),W=require("@stdlib/string/format");function ui(e,r){if(!ni(e))throw new TypeError(W("invalid argument. First argument must be a valid file descriptor (i.e., nonnegative integer). Value: `%s`.",e));if(!ai(r))throw new TypeError(W("invalid argument. Last argument must be a function. Value: `%s`.",r));ti(e,r)}U.exports=ui});var K=a(function(Fn,G){"use strict";var si=require("fs").closeSync,vi=require("@stdlib/assert/is-nonnegative-integer").isPrimitive,oi=require("@stdlib/string/format");function li(e){if(!vi(e))throw new TypeError(oi("invalid argument. Must provide a valid file descriptor (i.e., a nonnegative integer). Value: `%s`.",e));try{si(e)}catch(r){return r}}G.exports=li});var H=a(function(Tn,z){"use strict";var ci=require("@stdlib/utils/define-nonenumerable-read-only-property"),Y=X(),fi=K();ci(Y,"sync",fi);z.exports=Y});var Z=a(function(Pn,Q){"use strict";var P=require("fs"),R;typeof P.access=="function"?R=P.access:R=P.stat;function di(e,r){R(e,n);function n(i){return r.length===2?i?r(i,!1):r(null,!0):r(!i)}}Q.exports=di});var rr=a(function(Rn,$){"use strict";var V=require("fs"),A;typeof V.accessSync=="function"?A=V.accessSync:A=V.statSync;function qi(e){try{A(e)}catch(r){return!1}return!0}$.exports=qi});var E=a(function(Vn,ir){"use strict";var gi=require("@stdlib/utils/define-nonenumerable-read-only-property"),er=Z(),mi=rr();gi(er,"sync",mi);ir.exports=er});var j=a(function(An,yi){yi.exports={flags:"r",mode:438}});var nr=a(function(jn,tr){"use strict";var M=require("fs").open,N=j();function pi(e,r,n,i){var t=arguments.length;if(t===2)return M(e,N.flags,N.mode,r);if(t===3)return M(e,r,N.mode,n);M(e,r,n,i)}tr.exports=pi});var ur=a(function(Mn,ar){"use strict";var L=require("fs").openSync,k=j();function hi(e,r,n){var i,t;i=arguments.length;try{i===1?t=L(e,k.flags,k.mode):i===2?t=L(e,r,k.mode):t=L(e,r,n)}catch(s){return s}return t}ar.exports=hi});var or=a(function(Nn,vr){"use strict";var wi=require("@stdlib/utils/define-nonenumerable-read-only-property"),sr=nr(),xi=ur();wi(sr,"sync",xi);vr.exports=sr});var cr=a(function(Ln,lr){"use strict";var Si=require("fs").readdir;function Ei(){var e,r;for(e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);Si.apply(null,e)}lr.exports=Ei});var dr=a(function(kn,fr){"use strict";var bi=require("fs").readdirSync;function Oi(e){try{return bi(e)}catch(r){return r}}fr.exports=Oi});var mr=a(function(Bn,gr){"use strict";var Fi=require("@stdlib/utils/define-nonenumerable-read-only-property"),qr=cr(),Ti=dr();Fi(qr,"sync",Ti);gr.exports=qr});var pr=a(function(Cn,yr){"use strict";var Pi=require("fs").readFile;function Ri(){var e,r;for(e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);Pi.apply(null,e)}yr.exports=Ri});var xr=a(function(Dn,wr){"use strict";var hr=require("fs").readFileSync;function Vi(e,r){var n;try{arguments.length>1?n=hr(e,r):n=hr(e)}catch(i){return i}return n}wr.exports=Vi});var p=a(function(Jn,Er){"use strict";var Ai=require("@stdlib/utils/define-nonenumerable-read-only-property"),Sr=pr(),ji=xr();Ai(Sr,"sync",ji);Er.exports=Sr});var br=a(function(_n,Mi){Mi.exports={max_retries:100,max_delay:18e5}});var Fr=a(function(In,Or){"use strict";var Ni=require("@stdlib/math/base/special/pow");function Li(e,r){var n=Ni(2,e)-1;return n>r&&(n=r),n}Or.exports=Li});var Pr=a(function(Wn,Tr){"use strict";Tr.exports=clearTimeout});var Vr=a(function(Un,Rr){"use strict";var ki=require("@stdlib/utils/keys"),Bi=Pr();function Ci(e){var r,n;for(r=ki(e),n=0;n<r.length;n++)Bi(e[r[n]])}Rr.exports=Ci});var kr=a(function(Xn,Lr){"use strict";var Di=require("debug"),Ji=require("@stdlib/assert/is-string-array").primitives,_i=require("@stdlib/assert/is-function"),Ii=require("@stdlib/object/assign"),Ar=p(),jr=require("@stdlib/string/format"),Nr=br(),Wi=Fr(),Ui=Vr(),m=Di("read-file-list:async"),Mr=Nr.max_retries,Xi=Nr.max_delay;function Gi(e,r,n){var i,t,s,u,v,o,l,d;if(!Ji(e))throw new TypeError(jr("invalid argument. First argument must be an array of strings. Value: `%s`.",e));if(arguments.length<3?(v={},l=r):(v=Ii({},r),l=n),!_i(l))throw new TypeError(jr("invalid argument. Callback argument must be a function. Value: `%s`.",l));for(o=e.length,t=new Array(o),i={},u=0,m("Reading %d files...",o),d=0;d<o;d++)m("Reading file: %s (%d of %d).",e[d],d+1,o),Ar(e[d],v,w(d));function w(g){var y,q,S;q=e[g],S=g+1,y=0;function ei(){delete i[g],m("Reading file: %s (%d of %d). Retry: %d of %d.",q,S,o,y,Mr),Ar(q,v,I)}function I(h,ii){var T;if(s){m("An error has already been returned. Discarding data for file: %s (%d of %d).",q,S,o);return}if(h){if(m("Encountered an error when reading %s (%d of %d). Error: %s",q,S,o,h.message),h.code==="EMFILE"||h.code==="ENFILE"){if(y+=1,y>Mr)return m("Maximum number of retries exceeded. Too many open files."),h=new Error("unexpected error. Max retries exceeded. Too many open files."),x(h);T=Wi(y,Xi),m("Too many open files. Will retry reading file %d of %d in %s seconds.",S,o,T/1e3),i[g]=setTimeout(ei,T);return}return x(h)}if(m("Successfully read file: %s (%d of %d).",q,S,o),t[g]={file:q,data:ii},u+=1,m("Read %d of %d files.",u,o),u===o)return x()}return I}function x(g){if(Ui(i),g)return s=!0,l(g);m("Successfully read all files."),l(null,t)}}Lr.exports=Gi});var Cr=a(function(Gn,Br){"use strict";var Ki=require("debug"),Yi=p().sync,zi=require("@stdlib/assert/is-string-array").primitives,Hi=require("@stdlib/string/format"),b=Ki("read-file-list:sync");function Qi(e,r){var n,i,t,s,u;if(!zi(e))throw new TypeError(Hi("invalid argument. First argument must be an array of strings. Value: `%s`.",e));for(arguments.length>1?i=r:i={},s=e.length,n=new Array(s),b("Reading %d files...",s),u=0;u<s;u++){if(b("Reading file: %s (%d of %d).",e[u],u+1,s),t=Yi(e[u],i),t instanceof Error)return b("Encountered an error when reading file: %s (%d of %d). Error: %s",e[u],u,s,t.message),t;b("Successfully read file: %s (%d of %d).",e[u],u,s),n[u]={file:e[u],data:t}}return b("Finished reading files."),n}Br.exports=Qi});var _r=a(function(Kn,Jr){"use strict";var Zi=require("@stdlib/utils/define-nonenumerable-read-only-property"),Dr=kr(),$i=Cr();Zi(Dr,"sync",$i);Jr.exports=Dr});var Xr=a(function(Yn,Ur){"use strict";var rt=require("@stdlib/assert/is-string").isPrimitive,et=require("@stdlib/assert/is-plain-object"),it=require("@stdlib/assert/is-function"),tt=p(),nt=require("@stdlib/string/remove-utf8-bom"),Ir=require("@stdlib/utils/parse-json"),at=require("@stdlib/assert/instance-of"),Wr=require("@stdlib/string/format");function ut(e,r,n){var i,t;if(arguments.length<3)i={},t=r;else{if(rt(r))i={encoding:r};else{if(!et(r))throw new TypeError(Wr("invalid argument. Options argument must be either a string or an object. Value: `%s`.",r));i=r}t=n}if(!it(t))throw new TypeError(Wr("invalid argument. Callback argument must be a function. Value: `%s`.",t));tt(e,i,s);function s(u,v){if(u)return t(u);if(v=v.toString(),i.encoding==="utf8"&&(v=nt(v)),i.reviver?v=Ir(v,i.reviver):v=Ir(v),at(v,Error))return t(v);t(null,v)}}Ur.exports=ut});var Yr=a(function(zn,Kr){"use strict";var st=require("@stdlib/assert/is-string").isPrimitive,vt=require("@stdlib/assert/is-plain-object"),ot=p().sync,lt=require("@stdlib/string/remove-utf8-bom"),Gr=require("@stdlib/utils/parse-json"),ct=require("@stdlib/assert/instance-of"),ft=require("@stdlib/string/format");function dt(e,r){var n,i;if(arguments.length>1)if(st(r))n={encoding:r};else{if(!vt(r))throw new TypeError(ft("invalid argument. Options argument must be either a string or an object. Value: `%s`.",r));n=r}else n={};return i=ot(e,n),ct(i,Error)?i:(i=i.toString(),n.encoding==="utf8"&&(i=lt(i)),n.reviver?Gr(i,n.reviver):Gr(i))}Kr.exports=dt});var Qr=a(function(Hn,Hr){"use strict";var qt=require("@stdlib/utils/define-nonenumerable-read-only-property"),zr=Xr(),gt=Yr();qt(zr,"sync",gt);Hr.exports=zr});var re=a(function(Qn,$r){"use strict";var mt=require("@stdlib/assert/is-plain-object"),yt=require("@stdlib/assert/is-function"),pt=require("@stdlib/assert/is-uint8array"),ht=p(),wt=require("@stdlib/array/uint8"),Zr=require("@stdlib/string/format");function xt(e,r,n){var i,t;if(arguments.length<3)i={},t=r;else{if(!mt(r))throw new TypeError(Zr("invalid argument. Options argument must be an object. Value: `%s`.",r));i=r,t=n}if(!yt(t))throw new TypeError(Zr("invalid argument. Callback argument must be a function. Value: `%s`.",t));i.encoding=null,ht(e,i,s);function s(u,v){var o,l;if(u)return t(u);if(pt(v))return t(null,v);for(o=new wt(v.length),l=0;l<v.length;l++)o[l]=v[l];t(null,o)}}$r.exports=xt});var ie=a(function(Zn,ee){"use strict";var St=require("@stdlib/assert/is-plain-object"),Et=require("@stdlib/assert/is-uint8array"),bt=require("@stdlib/assert/instance-of"),Ot=p().sync,Ft=require("@stdlib/array/uint8"),Tt=require("@stdlib/string/format");function Pt(e,r){var n,i,t,s;if(arguments.length>1){if(!St(r))throw new TypeError(Tt("invalid argument. Options argument must be an object. Value: `%s`.",r));n=r}else n={};if(n.encoding=null,t=Ot(e,n),bt(t,Error)||Et(t))return t;for(i=new Ft(t.length),s=0;s<t.length;s++)i[s]=t[s];return i}ee.exports=Pt});var ae=a(function($n,ne){"use strict";var Rt=require("@stdlib/utils/define-nonenumerable-read-only-property"),te=re(),Vt=ie();Rt(te,"sync",Vt);ne.exports=te});var se=a(function(ra,ue){"use strict";var At=require("fs").rename;function jt(e,r,n){At(e,r,n)}ue.exports=jt});var oe=a(function(ea,ve){"use strict";var Mt=require("fs").renameSync;function Nt(e,r){try{Mt(e,r)}catch(n){return n}return null}ve.exports=Nt});var fe=a(function(ia,ce){"use strict";var Lt=require("@stdlib/utils/define-nonenumerable-read-only-property"),le=se(),kt=oe();Lt(le,"sync",kt);ce.exports=le});var B=a(function(ta,qe){"use strict";var Bt=require("@stdlib/assert/is-plain-object"),Ct=require("@stdlib/assert/has-own-property"),Dt=require("@stdlib/assert/is-string").isPrimitive,de=require("@stdlib/string/format");function Jt(e,r){return Bt(r)?Ct(r,"dir")&&(e.dir=r.dir,!Dt(e.dir))?new TypeError(de("invalid option. `%s` option must be a string. Option: `%s`.","dir",e.dir)):null:new TypeError(de("invalid argument. Options argument must be an object. Value: `%s`.",r))}qe.exports=Jt});var he=a(function(na,pe){"use strict";var O=require("path").resolve,_t=require("@stdlib/assert/is-string").isPrimitive,It=require("@stdlib/assert/is-function"),ge=require("@stdlib/process/cwd"),me=E(),ye=require("@stdlib/string/format"),Wt=B();function Ut(e,r,n){var i,t,s,u,v,o;if(!_t(e))throw new TypeError(ye("invalid argument. First argument must be a string. Value: `%s`.",e));if(s={},arguments.length>2){if(u=n,o=Wt(s,r),o)throw o}else u=r;if(!It(u))throw new TypeError(ye("invalid argument. Callback argument must be a function. Value: `%s`.",u));s.dir?v=O(ge(),s.dir):v=ge(),i=O(v,e),me(i,l);function l(d,w){if(w)return u(null,i);if(t=v,v=O(v,".."),t===v)return u(null,null);i=O(v,e),me(i,l)}}pe.exports=Ut});var Se=a(function(aa,xe){"use strict";var C=require("path").resolve,Xt=require("@stdlib/assert/is-string").isPrimitive,we=require("@stdlib/process/cwd"),Gt=E().sync,Kt=require("@stdlib/string/format"),Yt=B();function zt(e,r){var n,i,t,s,u;if(!Xt(e))throw new TypeError(Kt("invalid argument. First argument must be a string. Value: `%s`.",e));if(t={},arguments.length>1&&(u=Yt(t,r),u))throw u;for(t.dir?s=C(we(),t.dir):s=we();i!==s;){if(n=C(s,e),Gt(n))return n;i=s,s=C(s,"..")}return null}xe.exports=zt});var Oe=a(function(ua,be){"use strict";var Ht=require("@stdlib/utils/define-nonenumerable-read-only-property"),Ee=he(),Qt=Se();Ht(Ee,"sync",Qt);be.exports=Ee});var D=a(function(sa,Te){"use strict";var Zt=require("@stdlib/assert/is-plain-object"),$t=require("@stdlib/assert/has-own-property"),rn=require("@stdlib/assert/is-string").isPrimitive,Fe=require("@stdlib/string/format");function en(e,r){return Zt(r)?$t(r,"dir")&&(e.dir=r.dir,!rn(e.dir))?new TypeError(Fe("invalid option. `%s` option must be a string. Option: `%s`.","dir",e.dir)):null:new TypeError(Fe("invalid argument. Options argument must be an object. Value: `%s`.",r))}Te.exports=en});var je=a(function(va,Ae){"use strict";var F=require("path").resolve,tn=require("@stdlib/assert/is-string").isPrimitive,Pe=require("@stdlib/assert/is-function"),J=require("@stdlib/string/format"),Re=require("@stdlib/process/cwd"),Ve=E(),nn=D();function an(e,r,n,i){var t,s,u,v,o,l,d;if(!tn(e))throw new TypeError(J("invalid argument. First argument must be a string. Value: `%s`.",e));if(v={},arguments.length>3){if(d=nn(v,r),d)throw d;u=n,o=i}else u=r,o=n;if(!Pe(u))throw new TypeError(J("invalid argument. Predicate function must be a function. Value: `%s`.",u));if(!Pe(o))throw new TypeError(J("invalid argument. Callback argument must be a function. Value: `%s`.",o));v.dir?l=F(Re(),v.dir):l=Re(),t=F(l,e),Ve(t,x);function w(){if(s=l,l=F(l,".."),s===l)return o(null,null);t=F(l,e),Ve(t,x)}function x(y,q){if(q)return u(t,g);w()}function g(y,q){if(y)return o(y);if(q)return o(null,t);w()}}Ae.exports=an});var ke=a(function(oa,Le){"use strict";var _=require("path").resolve,un=require("@stdlib/assert/is-string").isPrimitive,sn=require("@stdlib/assert/is-function"),Me=require("@stdlib/process/cwd"),vn=E().sync,Ne=require("@stdlib/string/format"),on=D();function ln(e,r,n){var i,t,s,u,v,o;if(!un(e))throw new TypeError(Ne("invalid argument. First argument must be a string. Value: `%s`.",e));if(u={},arguments.length>2){if(o=on(u,r),o)throw o;s=n}else s=r;if(!sn(s))throw new TypeError(Ne("invalid argument. Last argument must be a function. Value: `%s`.",s));for(u.dir?v=_(Me(),u.dir):v=Me();t!==v;){if(i=_(v,e),vn(i)&&s(i))return i;t=v,v=_(v,"..")}return null}Le.exports=ln});var De=a(function(la,Ce){"use strict";var cn=require("@stdlib/utils/define-nonenumerable-read-only-property"),Be=je(),fn=ke();cn(Be,"sync",fn);Ce.exports=Be});var _e=a(function(ca,Je){"use strict";var dn=require("fs").unlink;function qn(e,r){dn(e,r)}Je.exports=qn});var We=a(function(fa,Ie){"use strict";var gn=require("fs").unlinkSync;function mn(e){try{gn(e)}catch(r){return r}return null}Ie.exports=mn});var Ge=a(function(da,Xe){"use strict";var yn=require("@stdlib/utils/define-nonenumerable-read-only-property"),Ue=_e(),pn=We();yn(Ue,"sync",pn);Xe.exports=Ue});var Ye=a(function(qa,Ke){"use strict";var hn=require("fs").writeFile;function wn(){var e,r;for(e=[],r=0;r<arguments.length;r++)e.push(arguments[r]);hn.apply(null,e)}Ke.exports=wn});var Qe=a(function(ga,He){"use strict";var ze=require("fs").writeFileSync;function xn(e,r,n){try{arguments.length>2?ze(e,r,n):ze(e,r)}catch(i){return i}return null}He.exports=xn});var ri=a(function(ma,$e){"use strict";var Sn=require("@stdlib/utils/define-nonenumerable-read-only-property"),Ze=Ye(),En=Qe();Sn(Ze,"sync",En);$e.exports=Ze});var f=require("@stdlib/utils/define-read-only-property"),c={};f(c,"close",H());f(c,"exists",E());f(c,"open",or());f(c,"readDir",mr());f(c,"readFile",p());f(c,"readFileList",_r());f(c,"readJSON",Qr());f(c,"readWASM",ae());f(c,"rename",fe());f(c,"resolveParentPath",Oe());f(c,"resolveParentPathBy",De());f(c,"unlink",Ge());f(c,"writeFile",ri());module.exports=c;
/**
* @license Apache-2.0
*
* Copyright (c) 2019 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
/**
* @license Apache-2.0
*
* Copyright (c) 2021 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
//# sourceMappingURL=index.js.map
